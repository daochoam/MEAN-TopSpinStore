<div class="ventanaflotante">

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">Imagen</th>
        <th scope="col">Codigo</th>
        <th scope="col">Name</th>
        <th scope="col">Category</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of ListaDatos" (click)="CargaPorId(item._id)">
        <td><img src="http:localhost:3000/productos/{{item._id}}.png" + class="imgproductos"></td><!--Crear la carpeta productos en el back-->
        <td>{{item.Codigo}}</td>
        <td>{{item.Nombre}}</td>
        <td>{{item.Categoria}}</td>
        <td>{{item.Precio | currency}}</td>
        <td>{{item.Cantidad}}</td>
        </tr>

    </tbody>
  </table>

    <div class="new" title="Add Product" (click)="OpenModal()">
        <i class="fa-sharp fa-regular fa-plus fa-lg"></i>
    </div>
</div>
<div class="modal fade" id="modaldatos" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-body">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="exampleModalLabel" title="Register Product">Product</h3>
          <div type="button" class="btn-shut" title="close" (click)="CloseModal()">
            <h1>&times;</h1>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="modal-body">

              <div class="row">
               <div class="form-group col-12 col-md-4">
                 <label class="col-form-label" >Code:</label>
                 <input *ngIf="Id === ''" type="text" class="form-control" title="Code" [(ngModel)]="Codigo" placeholder="Code" required>
                 <input *ngIf="Id !== ''" type="text" class="form-control" title="Code"[(ngModel)]="Codigo" placeholder="Code" disabled>
               </div>
               <div class="form-group col-12 col-md-8">
                 <label for="message-text" class="col-form-label">Name:</label>
                 <input class="form-control" title="Name" [(ngModel)]="Nombre" placeholder="Name">
               </div>
              </div>
                <div class="row">
                <div class="form-group col-12 col-md-6">
                  <label class="col-form-label">Price:</label>
                  <input class="form-control" title="Price" [(ngModel)]="Precio" placeholder="Price">
                </div>
                <div class="form-group col-12 col-md-6">
                  <label class="col-form-label">Quantity:</label>
                  <input class="form-control" title="Quantity" [(ngModel)]="Cantidad" placeholder="Quantity">
                </div>
              </div>
                <div class="Category form-group col-12 col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>Category:</mat-label>
                    <mat-select [(ngModel)]="Categoria" title="Category" placeholder="Category">
                      <option label=" -- Select something -- "></option>
                      <mat-option *ngFor="let item of Category" [value]="item.value">
                        {{item.value}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="form-group col-sm-12 col-md-12">
                  <label class="col-form-label">Description:</label>
                  <textarea class="Description" title="Description" placeholder="--Write something here--" [(ngModel)]="Descripcion"></textarea>
                  <label class="CountChar" [(ngModel)]="counts">{{counts-Descripcion.length}}</label>
                </div>
                <div class="col-4" *ngIf="Id != ''">
                  <img src="http:localhost:3000/productos/{{Id}}.png" class="defaultImage">
                </div>
               <div class="col-8" *ngIf="Id != ''">
                <app-uploadfiles>
                  [urldestino]="destino"
                  [path]="path"
                  [inputName]="'userFile'"
                </app-uploadfiles>
              </div>  
                  
                           
                
          </div>

        </div>

        </div>
        <div class="modal-footer">
         <button *ngIf="Id === ''"  type="button" class="btn btn-primary" title="Save"    (click)="Guardar()">Save</button>
         <button *ngIf="Id !== ''"  type="button" class="btn btn-primary" title="Update" (click)="ActualizarId()">Update</button>
         <button *ngIf="Id !== ''"  type="button" class="btn btn-danger"  title="Delete"   (click)="Eliminar()">Delete</button>
        </div>
      </div>
    </div>
  </div>
 
 
  
